     <html lang="en">
         <head>
          <meta charset="utf-8"/>
          <meta content="width=device-width, initial-scale=1" name="viewport"/>
          <title>
           Bro dan Sis
          </title>
                    <link rel="icon" href="./img/favicon.png" type="image/png">
              <link rel="icon" href="./img/favicon.png" type="image/png">
          <script src="https://cdn.tailwindcss.com">
          </script>
          <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Puritan:ital,wght@0,400;0,700;1,400;1,700&family=Sacramento&family=Unna:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    
          <style>
           body {
              font-family: 'Unica One', sans-serif;
            }
            .script-font {
              font-family: 'Great Vibes', cursive;
            }
            
            .bg-semi {
              background-color: #d2bfdf;
            }
            
            .bg-ungu {
              background-color: #4B0082;
            }
            
          </style>
         </head>
         <body>
      <section class="relative h-screen w-full">
      <!-- Background foto -->
      <div class="absolute inset-0">
        <img src="./img/ft1.jpg" alt="Foto Mempelai"
          class="w-full h-full object-cover brightness-50" />
      </div>
    
      <!-- Overlay hitam tambahan -->
      <div class="absolute inset-0 bg-black/40"></div>
    
      <!-- Konten teks -->
      <div class="relative flex flex-col items-center justify-end h-full pb-16 text-center text-white reveal slide-up opacity-0 translate-y-10 transition-all duration-1000">
        <p class="text-lg tracking-wide font-['Puritan']">The Wedding of</p>
        <h1 class="text-4xl md:text-6xl font-['Sacramento'] mt-2">Mas Bro &amp; Mba Sis</h1>
        <p class="mt-4 text-lg md:text-2xl font-['Puritan']">Minggu, 12 Oktober 2029</p>
        <br>
    <!-- Button Save the Date -->
    <button onclick="openModal()" 
      class="bg-[#D4AF37] text-white font-['Puritan'] px-6 py-3 rounded-lg shadow-md hover:bg-[#4B0082] transition">
      Save the Date
    </button>
    
    <!-- Popup Modal -->
    <div id="saveDateModal" class="fixed inset-0 hidden bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div class="bg-white rounded-2xl shadow-lg max-w-md w-full p-6 text-center relative font-['Unna']">
        
        <!-- Close Button -->
        <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-500 hover:text-[#4B0082] text-xl">&times;</button>
        
        <!-- Title -->
        <h2 class="text-2xl font-['Sacramento'] text-[#4B0082] mb-4">Save the Date</h2>
        
        <!-- Content -->
        <p class="text-gray-700 mb-6">
          Tambahkan acara ini ke kalender Google kamu, jangan sampai kelewatan ya âœ¨
        </p>
        
        <!-- Link ke Google Calendar -->
        <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=The+Wedding+of+Bro+%26+Sis&dates=20251212T090000Z/20251212T110000Z&details=Undangan+pernikahan&location=Jakarta"
           target="_blank"
           class="bg-[#4B0082] text-white px-5 py-2 rounded-lg shadow-md hover:bg-[#D4AF37] transition font-['Puritan']">
          Tambahkan ke Google Calendar
        </a>
      </div>
    </div>
    
    <script>
      function openModal() {
        document.getElementById('saveDateModal').classList.remove('hidden');
      }
      function closeModal() {
        document.getElementById('saveDateModal').classList.add('hidden');
      }
    </script>
    
      </div>
    </section>
    
    <div id="mempelai"></div>
    <div id="qoutes"></div>
    <div id="story"></div>
    <div id="acara"></div>
    <div id="gallery"></div>
    <div id="closing"></div>
    
    <section id="rsvp" class="bg-white py-9">
        <div class="grid grid-cols-3 gap-4 text-center mb-8 mx-4 reveal slide-down opacity-0 -translate-y-10 transition-all duration-1000 ease-out">
      <div class="bg-ungu p-4 rounded-lg shadow">
        <h3 class="text-5xl font-['Unna'] text-white" id="countHadir">0</h3>
        <p class="font-['Puritan'] text-white text-sm">Hadir</p>
      </div>
      <div class="bg-ungu p-4 rounded-lg shadow">
        <h3 class="text-5xl font-['Unna'] text-white" id="countTidak">0</h3>
        <p class="font-['Puritan'] text-white text-sm">Tidak Hadir</p>
      </div>
      <div class="bg-ungu p-4 rounded-lg shadow">
        <h3 class="text-5xl font-['Unna'] text-white" id="countRagu">0</h3>
        <p class="text-white font-['Puritan'] text-sm">Ragu</p>
      </div>
    </div>
        
           <!-- Form RSVP -->
   <div class="bg-semi p-6 rounded-2xl shadow-lg mb-8 mx-4 reveal zoom-in opacity-0 scale-95 transition-all duration-1000 ease-out">
  <form id="rsvpForm" class="space-y-4">
    <input type="text" id="nama" placeholder="Nama" required
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B0082] font-['Puritan'] text-ireng placeholder-gray-500">

    <select id="status" required
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B0082] font-['Puritan'] text-ireng">
      <option value="" disabled selected>Konfirmasi Kehadiran</option>
      <option value="Hadir">Hadir</option>
      <option value="Tidak Hadir">Tidak Hadir</option>
      <option value="Ragu">Ragu</option>
    </select>

    <textarea id="ucapan" placeholder="Tulis ucapan..." rows="3"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4B0082] font-['Puritan'] text-ireng placeholder-gray-500"></textarea>

    <button type="submit"
      class="w-full bg-ungu text-white py-2 rounded-lg font-['Puritan']">
      Kirim
    </button>
  </form>
</div>


    <!-- List Ucapan -->
    <!-- List Ucapan -->
<div class="bg-semi p-6 rounded-2xl shadow-lg mx-4 reveal slide-up opacity-0 translate-y-10 transition-all duration-1000 ease-out">
  <h3 class="text-xl font-['Unna'] mb-4 text-['4B0082'] text-center">Ucapan &amp; Doa</h3>
  <div id="listUcapan" class="space-y-4"></div>

  <!-- Pagination -->
  <div class="flex justify-between mt-4">
    <button id="prevBtn" class="bg-ungu text-white px-4 py-2 rounded-lg font-['Puritan'] disabled:opacity-50">Prev</button>
    <button id="nextBtn" class="bg-ungu text-white px-4 py-2 rounded-lg font-['Puritan'] disabled:opacity-50">Next</button>
  </div>
</div>

<!-- Toast -->
<div id="toast" class="hidden fixed bottom-5 right-5 left-5 bg-ungu text-white px-4 py-2 rounded-lg shadow-lg text-center font-['Puritan']">
  Terima kasih! Data berhasil dikirim
</div>
    </section>
    
    <div id="footer"></div>
  
             <!-- Audio -->
      <audio id="bg-music" src="./musik/bgm.mp3" loop></audio>
      
      <!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getFirestore, collection, addDoc, query, orderBy, limit, onSnapshot, getDocs } 
    from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCcPfeHqqMvJcgJe4J1HtvGfWC9uk89B2k",
    authDomain: "undangan-kode-2.firebaseapp.com",
    projectId: "undangan-kode-2",
    storageBucket: "undangan-kode-2.firebasestorage.app",
    messagingSenderId: "1080814737850",
    appId: "1:1080814737850:web:5a7aa130c609f99e626583",
    measurementId: "G-TVJK86NBJ0"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ðŸ‘‡ ganti tiap klien
  const COLLECTION_NAME = "ucapan_klien1"; 

  const form = document.getElementById("rsvpForm");
  const listUcapan = document.getElementById("listUcapan");
  const toast = document.getElementById("toast");

  const countHadir = document.getElementById("countHadir");
  const countTidak = document.getElementById("countTidak");
  const countRagu = document.getElementById("countRagu");

  function showToast() {
    toast.classList.remove("hidden");
    setTimeout(() => toast.classList.add("hidden"), 3000);
  }

  // Simpan RSVP
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const nama = document.getElementById("nama").value;
    const status = document.getElementById("status").value;
    const ucapan = document.getElementById("ucapan").value;

    try {
      await addDoc(collection(db, COLLECTION_NAME), {
        nama,
        status,
        ucapan,
        timestamp: Date.now()
      });
      form.reset();
      showToast();
    } catch (err) {
      console.error("Error:", err);
    }
  });

  // === UCAPAN: realtime ambil 5 terakhir ===
  const q = query(
    collection(db, COLLECTION_NAME),
    orderBy("timestamp", "desc"),
    limit(5)
  );
  onSnapshot(q, (snapshot) => {
    listUcapan.innerHTML = "";
    snapshot.forEach((doc) => {
      const data = doc.data();
      const div = document.createElement("div");
      div.classList.add("bg-white", "p-3", "rounded-lg", "shadow");
      div.innerHTML = `
        <p class="font-bold">${data.nama} <span class="text-sm text-gray-500">(${data.status})</span></p>
        <p class="text-sm text-gray-700">${data.ucapan}</p>
      `;
      listUcapan.appendChild(div);
    });
  });

  // === COUNTER: realtime update ===
  onSnapshot(collection(db, COLLECTION_NAME), (snapshot) => {
    let hadir = 0, tidak = 0, ragu = 0;
    snapshot.forEach((doc) => {
      const status = doc.data().status;
      if (status === "Hadir") hadir++;
      if (status === "Tidak Hadir") tidak++;
      if (status === "Ragu") ragu++;
    });
    countHadir.textContent = hadir;
    countTidak.textContent = tidak;
    countRagu.textContent = ragu;
  });
</script>


      
      <script>
        const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      const el = entry.target;

      // Slide dari kiri
      if (el.classList.contains("slide-left")) {
        el.classList.remove("opacity-0", "-translate-x-10");
        el.classList.add("opacity-100", "translate-x-0");
      }

      // Slide dari kanan
      if (el.classList.contains("slide-right")) {
        el.classList.remove("opacity-0", "translate-x-10");
        el.classList.add("opacity-100", "translate-x-0");
      }
      
      // slide-down
if (el.classList.contains("slide-down")) {
  el.classList.remove("opacity-0", "-translate-y-10");
  el.classList.add("opacity-100", "translate-y-0");
}


      // Slide dari bawah
      if (el.classList.contains("slide-up")) {
        el.classList.remove("opacity-0", "translate-y-10");
        el.classList.add("opacity-100", "translate-y-0");
      }

      // Fade in
      if (el.classList.contains("fade-in")) {
        el.classList.remove("opacity-0");
        el.classList.add("opacity-100");
      }

      // Zoom in
      if (el.classList.contains("zoom-in")) {
        el.classList.remove("opacity-0", "scale-95");
        el.classList.add("opacity-100", "scale-100");
      }

      // Kalau sudah kelihatan, stop observe biar ga diulang
      observer.unobserve(el);
    }
  });
});

// Observe semua elemen dengan class .reveal
document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

// countdiwn
// Tentukan tanggal target (format: Tahun, Bulan (0-11), Tanggal, Jam, Menit, Detik)
const targetDate = new Date("2029-10-12T08:00:00").getTime();

// Update setiap 1 detik
const countdownInterval = setInterval(function () {
    const now = new Date().getTime();
    const distance = targetDate - now;

    // Hitung hari, jam, menit, detik
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    // Tampilkan ke elemen
    document.getElementById("days").textContent = days;
    document.getElementById("hours").textContent = hours;
    document.getElementById("minutes").textContent = minutes;
    document.getElementById("seconds").textContent = seconds;

    // Jika waktu habis
    if (distance < 0) {
        clearInterval(countdownInterval);
        document.getElementById("countdown").innerHTML = "<p class='text-xl text-center'>Waktu Habis!</p>";
    }
}, 1000);



//panggil section
function loadSection(id, url) {
  fetch(url)
    .then(response => {
      if (!response.ok) {
        throw new Error("Gagal load " + url);
      }
      return response.text();
    })
    .then(data => {
      const container = document.getElementById(id);
      container.innerHTML = data;

      // Re-observe elemen baru yang ada .reveal
      container.querySelectorAll(".reveal").forEach((el) => observer.observe(el));
    })
    .catch(error => {
      console.error("Error:", error);
    });
}

  // panggil section
  loadSection("mempelai", "./mempelai.html");
  loadSection("qoutes", "./qoutes.html")
  loadSection("acara", "./acara.html");
  loadSection("story", "./story.html");
  loadSection("gallery", "./gallery.html");
  loadSection("closing", "./closing.html");
  loadSection("footer", "./footer.html");
    //musik
  window.addEventListener("DOMContentLoaded", () => {
            const music = document.getElementById("bg-music");
        
            // coba autoplay
            music.play().catch(() => {
              console.log("Autoplay diblokir, munculin popup manual");
        
              // bikin popup kecil
              const popup = document.createElement("div");
              popup.innerHTML = `
                <div class="fixed bottom-4 right-4 bg-[#4B0082] text-[#4B0082] px-4 py-2 rounded-full shadow-lg flex items-center gap-2 cursor-pointer animate-bounce">
                  ðŸŽµ
                </div>
              `;
              
              popup.onclick = () => {
                music.play();
                popup.remove(); // ilangin popup setelah musik nyala
              };
        
              document.body.appendChild(popup);
            });
          });
    </script>
  
          </body>
          </html>